module.exports=[60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d({onSubmit:a}){let[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)("");return(0,b.jsxs)("form",{onSubmit:b=>{(b.preventDefault(),d.trim().length<2)?g("Veuillez entrer votre nom (au moins 2 caractères)"):a(d.trim())},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground",children:"Quel est votre nom ?"}),(0,b.jsx)("input",{id:"name",type:"text",value:d,onChange:a=>{e(a.target.value),g("")},placeholder:"Entrez votre nom",className:"pill-input w-full text-base",autoFocus:!0}),f&&(0,b.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:f})]}),(0,b.jsx)("div",{className:"flex justify-center pt-4",children:(0,b.jsx)("button",{type:"submit",className:"pill-glow",children:"Continuer"})})]})}function e({studentName:a,onSubmit:d}){let[e,f]=(0,c.useState)("10"),[g,h]=(0,c.useState)("per-step"),[i,j]=(0,c.useState)("");return(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault();let b=Number.parseInt(e,10);isNaN(b)||b<10?j("Minimum : 10 verbes"):b>50?j("Maximum : 50 verbes"):d(b,g)},className:"space-y-6",children:[(0,b.jsxs)("p",{className:"text-lg text-foreground",children:["Bienvenue, ",(0,b.jsx)("span",{className:"font-semibold",children:a})," !"]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card/50 p-6 shadow-sm",children:[(0,b.jsx)("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Exemple :"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,b.jsx)("span",{className:"font-medium text-foreground",children:"moneo, mones, monere"})," (avertir, conseiller)"]}),(0,b.jsxs)("p",{className:"mt-3 text-sm text-muted-foreground",children:["Réponse attendue :"," ",(0,b.jsx)("span",{className:"font-medium text-foreground",children:"moneo, mones, monet, monemus, monetis, monent"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{htmlFor:"count",className:"block text-sm font-medium text-foreground",children:"Combien de verbes souhaitez-vous pratiquer ?"}),(0,b.jsx)("input",{id:"count",type:"number",min:10,max:50,value:e,onChange:a=>{f(a.target.value),j("")},className:"pill-input w-full text-base",autoFocus:!0}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Minimum : 10, Maximum : 50"}),i&&(0,b.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground",children:"Mode de vérification"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:()=>h("per-step"),className:`rounded-2xl border px-4 py-4 text-sm transition-all duration-200 ${"per-step"===g?"border-foreground/30 bg-foreground/5 font-medium text-foreground shadow-md":"border-border/50 bg-transparent text-muted-foreground hover:border-foreground/20 hover:bg-foreground/[0.02]"}`,children:(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("div",{className:"font-medium",children:"Par étape"}),(0,b.jsx)("div",{className:"mt-1 text-xs opacity-70 leading-relaxed",children:"Feedback immédiat après chaque verbe"})]})}),(0,b.jsx)("button",{type:"button",onClick:()=>h("at-end"),className:`rounded-2xl border px-4 py-4 text-sm transition-all duration-200 ${"at-end"===g?"border-foreground/30 bg-foreground/5 font-medium text-foreground shadow-md":"border-border/50 bg-transparent text-muted-foreground hover:border-foreground/20 hover:bg-foreground/[0.02]"}`,children:(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("div",{className:"font-medium",children:"À la fin"}),(0,b.jsx)("div",{className:"mt-1 text-xs opacity-70 leading-relaxed",children:"Résultats complets en une seule fois"})]})})]})]}),(0,b.jsx)("div",{className:"flex justify-center pt-2",children:(0,b.jsx)("button",{type:"submit",className:"pill-glow",children:"Commencer"})})]})}function f({studentName:d,verbCount:e,verificationMode:f,onComplete:g}){let[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(0),[l,m]=(0,c.useState)({singular1:"",singular2:"",singular3:"",plural1:"",plural2:"",plural3:""}),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(!1),[z]=(0,c.useState)(Date.now());(0,c.useEffect)(()=>{!async function(){try{let a=await fetch("/api/generate-verbs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({count:e,difficulty:"mixed"})});if(a.ok){let b=await a.json();i(b.verbs)}else throw Error("Failed to generate verbs")}catch(c){console.error("Error generating verbs:",c);let{LATIN_VERBS:b}=await a.A(2570);i([...b].sort(()=>Math.random()-.5).slice(0,e))}finally{u(!1)}}()},[e]);let A=h[j],B=(0,c.useCallback)(async(a,b)=>{let c=`${b.singular1}, ${b.singular2}, ${b.singular3}, ${b.plural1}, ${b.plural2}, ${b.plural3}`,e=a.presentConjugation.join(", ");try{let b=await fetch("/api/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({verb:a.infinitive,principalParts:`${a.firstPerson}, ${a.secondPerson}, ${a.infinitive}`,userAnswer:c,correctAnswer:e,studentName:d})}),f=await b.json();return{verb:a.infinitive,principalParts:`${a.firstPerson}, ${a.secondPerson}, ${a.infinitive}`,userAnswer:c,correctAnswer:e,isCorrect:f.isCorrect,feedback:f.feedback}}catch{let d=b.singular1.toLowerCase().trim()===a.presentConjugation[0].toLowerCase()&&b.singular2.toLowerCase().trim()===a.presentConjugation[1].toLowerCase()&&b.singular3.toLowerCase().trim()===a.presentConjugation[2].toLowerCase()&&b.plural1.toLowerCase().trim()===a.presentConjugation[3].toLowerCase()&&b.plural2.toLowerCase().trim()===a.presentConjugation[4].toLowerCase()&&b.plural3.toLowerCase().trim()===a.presentConjugation[5].toLowerCase(),f=d?"Correct ! Bien joué.":`La bonne r\xe9ponse est : ${e}`;return{verb:a.infinitive,principalParts:`${a.firstPerson}, ${a.secondPerson}, ${a.infinitive}`,userAnswer:c,correctAnswer:e,isCorrect:d,feedback:f}}},[d]),C=async()=>{if(A)if("per-step"===f){s(!0),w(null);let a=await B(A,l);w(a.feedback),y(!0),q(b=>[...b,a]),s(!1)}else o(a=>[...a,{verb:A,answer:{...l}}]),D()},D=()=>{j+1>=h.length?"at-end"===f?E():g(p,Math.floor((Date.now()-z)/1e3)):(k(a=>a+1),m({singular1:"",singular2:"",singular3:"",plural1:"",plural2:"",plural3:""}),w(null),y(!1))},E=async()=>{s(!0);let a=[];for(let{verb:b,answer:c}of n){let d=await B(b,c);a.push(d)}let b=Math.floor((Date.now()-z)/1e3);s(!1),g(a,b)};return t?(0,b.jsxs)("div",{className:"space-y-4 text-center",children:[(0,b.jsx)("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-2 border-foreground/20 border-t-foreground"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Génération des verbes..."})]}):A?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,b.jsxs)("span",{children:["Verbe ",j+1," sur ",h.length]}),(0,b.jsx)("span",{children:d})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card p-6 shadow-sm",children:[(0,b.jsx)("p",{className:"mb-1 text-sm text-muted-foreground",children:"Conjuguez au présent :"}),(0,b.jsxs)("p",{className:"text-xl font-medium text-foreground",children:[A.firstPerson,", ",A.secondPerson,", ",A.infinitive]}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-muted-foreground",children:["(",A.meaning,")"]}),A.isCompound&&(0,b.jsx)("p",{className:"mt-2 text-xs text-muted-foreground",children:"Composé de « esse » (être)"})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),x||"per-step"!==f?D():C()},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Singulier"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"1ère personne (ego)"}),(0,b.jsx)("input",{value:l.singular1,onChange:a=>m(b=>({...b,singular1:a.target.value})),placeholder:"ex: moneo",disabled:x&&"per-step"===f,className:"pill-input w-full",autoFocus:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"2ème personne (tu)"}),(0,b.jsx)("input",{value:l.singular2,onChange:a=>m(b=>({...b,singular2:a.target.value})),placeholder:"ex: mones",disabled:x&&"per-step"===f,className:"pill-input w-full"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"3ème personne (is/ea/id)"}),(0,b.jsx)("input",{value:l.singular3,onChange:a=>m(b=>({...b,singular3:a.target.value})),placeholder:"ex: monet",disabled:x&&"per-step"===f,className:"pill-input w-full"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Pluriel"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"1ère personne (nos)"}),(0,b.jsx)("input",{value:l.plural1,onChange:a=>m(b=>({...b,plural1:a.target.value})),placeholder:"ex: monemus",disabled:x&&"per-step"===f,className:"pill-input w-full"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"2ème personne (vos)"}),(0,b.jsx)("input",{value:l.plural2,onChange:a=>m(b=>({...b,plural2:a.target.value})),placeholder:"ex: monetis",disabled:x&&"per-step"===f,className:"pill-input w-full"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"3ème personne (ei/eae/ea)"}),(0,b.jsx)("input",{value:l.plural3,onChange:a=>m(b=>({...b,plural3:a.target.value})),placeholder:"ex: monent",disabled:x&&"per-step"===f,className:"pill-input w-full"})]})]})]})]}),v&&"per-step"===f&&(0,b.jsx)("div",{className:`rounded-2xl p-4 ${p[p.length-1]?.isCorrect?"bg-green-50 text-green-900 dark:bg-green-950/30 dark:text-green-100":"bg-red-50 text-red-900 dark:bg-red-950/30 dark:text-red-100"}`,children:(0,b.jsx)("p",{className:"text-sm leading-relaxed",children:v})}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("button",{type:"submit",disabled:r,className:"pill-glow disabled:opacity-50",children:r?"at-end"===f?"Vérification de tous les verbes...":"Vérification...":x&&"per-step"===f?j+1>=h.length?"Voir les résultats":"Verbe suivant":"at-end"===f?j+1>=h.length?"Terminer et voir les résultats":"Suivant":"Vérifier"})})]})]}):(0,b.jsx)("p",{className:"text-muted-foreground",children:"Chargement des verbes..."})}function g(){let[a,d]=(0,c.useState)([]);return(0,c.useEffect)(()=>{let a=["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8"];d(Array.from({length:80},(b,c)=>({id:c,x:100*Math.random(),color:a[Math.floor(Math.random()*a.length)],delay:.5*Math.random()})))},[]),(0,b.jsx)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-50",children:a.map(a=>(0,b.jsx)("div",{className:"absolute w-2.5 h-2.5 animate-confetti",style:{left:`${a.x}%`,backgroundColor:a.color,animationDelay:`${a.delay}s`,borderRadius:Math.random()>.5?"50%":"2px",transform:`rotate(${360*Math.random()}deg)`}},a.id))})}function h(a){let b=Math.floor(a/60);return`${b}m ${a%60}s`}function i({rank:a,session:c,isCurrent:d}){let e=Math.round(c.correct/c.total*100),f=new Date(c.date),g=f.toLocaleDateString("fr-FR",{day:"numeric",month:"short"}),i=f.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"});return(0,b.jsxs)("div",{className:`group flex items-center gap-4 rounded-2xl border px-4 py-3 transition-all ${d?"border-foreground/20 bg-foreground/5 shadow-sm":"border-border/50 bg-card/50 hover:border-foreground/10"}`,children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-foreground/10 text-xs font-medium text-foreground",children:a}),(0,b.jsxs)("div",{className:"flex-1 space-y-0.5",children:[(0,b.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-foreground",children:[c.correct,"/",c.total]}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",e,"%)"]})]}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[g," à ",i]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-foreground",children:h(c.timeInSeconds)}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[Math.round(c.timeInSeconds/c.total),"s/verbe"]})]})]})}function j({studentName:a,results:d,timeInSeconds:e,history:f,onRestart:j}){let[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!0),q=d.filter(a=>a.isCorrect).length,r=Math.round(q/d.length*100);(0,c.useEffect)(()=>{let a=setTimeout(()=>l(!1),6e3);return()=>clearTimeout(a)},[]),(0,c.useEffect)(()=>{!async function(){try{let b=await fetch("/api/congratulate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentName:a,correct:q,total:d.length,timeInSeconds:e,percentage:r})});if(b.ok){let a=await b.json();n(a.message)}else throw Error("Failed to generate message")}catch{n(r>=90?`F\xe9licitations ${a} ! Tu as une excellente ma\xeetrise des conjugaisons latines. Continue comme \xe7a !`:r>=60?`Bravo ${a} ! Tu fais de beaux progr\xe8s. Continue de pratiquer r\xe9guli\xe8rement.`:`Bon travail ${a} ! Chaque exercice te rapproche de la ma\xeetrise. La pers\xe9v\xe9rance est la cl\xe9 !`)}finally{p(!1)}}()},[a,q,d.length,e,r]);let s=[...f].sort((a,b)=>{let c=a.correct/a.total,d=b.correct/b.total;return d!==c?d-c:a.timeInSeconds-b.timeInSeconds}),t=s.findIndex(a=>a.date===f[f.length-1].date&&a.correct===q&&a.total===d.length);return(0,b.jsxs)("div",{className:"space-y-8",children:[k&&r>=60&&(0,b.jsx)(g,{}),(0,b.jsxs)("div",{className:"space-y-4 text-center",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("p",{className:"text-5xl font-bold text-foreground",children:[q,(0,b.jsxs)("span",{className:"text-2xl text-muted-foreground",children:["/",d.length]})]}),(0,b.jsxs)("p",{className:"text-lg text-muted-foreground",children:[r,"% de réussite"]})]}),o?(0,b.jsx)("div",{className:"mx-auto h-4 w-4 animate-spin rounded-full border-2 border-foreground/20 border-t-foreground"}):(0,b.jsx)("div",{className:"mx-auto max-w-lg rounded-2xl border border-border/50 bg-card/50 p-6",children:(0,b.jsx)("p",{className:"text-foreground leading-relaxed",children:m})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card/50 p-4 text-center shadow-sm",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-foreground",children:h(e)}),(0,b.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:"Temps total"})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card/50 p-4 text-center shadow-sm",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-foreground",children:[Math.round(e/d.length),"s"]}),(0,b.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:"Moyenne/verbe"})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card/50 p-4 text-center shadow-sm",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-foreground",children:["#",t+1]}),(0,b.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:"Classement"})]})]}),f.length>1&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-foreground",children:"Tableau des performances"}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:[f.length," sessions"]})]}),(0,b.jsx)("div",{className:"space-y-2",children:s.slice(0,5).map((a,c)=>(0,b.jsx)(i,{rank:c+1,session:a,isCurrent:a.date===f[f.length-1].date},a.date))})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Révision détaillée"}),d.map((a,c)=>(0,b.jsxs)("div",{className:`rounded-2xl border p-4 ${a.isCorrect?"border-green-200/50 bg-green-50/50 dark:border-green-900/30 dark:bg-green-950/20":"border-red-200/50 bg-red-50/50 dark:border-red-900/30 dark:bg-red-950/20"}`,children:[(0,b.jsxs)("div",{className:"mb-2 flex items-start justify-between",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.principalParts}),(0,b.jsx)("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-medium ${a.isCorrect?"bg-green-100 text-green-900 dark:bg-green-900/50 dark:text-green-100":"bg-red-100 text-red-900 dark:bg-red-900/50 dark:text-red-100"}`,children:a.isCorrect?"Correct":"Incorrect"})]}),(0,b.jsxs)("p",{className:"mb-1 text-sm text-muted-foreground",children:["Votre réponse : ",a.userAnswer]}),!a.isCorrect&&(0,b.jsxs)("p",{className:"mb-2 text-sm text-muted-foreground",children:["Bonne réponse : ",a.correctAnswer]}),(0,b.jsx)("p",{className:"mt-3 text-sm text-foreground leading-relaxed",children:a.feedback})]},c))]}),(0,b.jsx)("div",{className:"flex justify-center pt-4",children:(0,b.jsx)("button",{onClick:j,className:"pill-glow",children:"Nouvelle session"})})]})}function k(){let[a,d]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let a=localStorage.getItem("theme");"dark"===a?(d(!0),document.documentElement.classList.add("dark")):"light"===a?(d(!1),document.documentElement.classList.remove("dark")):window.matchMedia("(prefers-color-scheme: dark)").matches&&(d(!0),document.documentElement.classList.add("dark"))},[]),(0,b.jsx)("button",{onClick:()=>{a?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),d(!1)):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),d(!0))},className:"theme-toggle","aria-label":a?"Passer au mode clair":"Passer au mode sombre",children:a?(0,b.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,b.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),(0,b.jsx)("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),(0,b.jsx)("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),(0,b.jsx)("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),(0,b.jsx)("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),(0,b.jsx)("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),(0,b.jsx)("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),(0,b.jsx)("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):(0,b.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"black",strokeWidth:"2",strokeLinecap:"round",children:(0,b.jsx)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})}let l=[{title:"Bienvenue",description:"Apprenez la conjugaison latine de manière interactive et personnalisée"},{title:"Entrez votre nom",description:"Personnalisez votre expérience d'apprentissage"},{title:"Choisissez votre mode",description:"Feedback immédiat ou résultats complets à la fin - à vous de choisir"},{title:"Conjuguez",description:"Pratiquez les 6 formes du présent de l'indicatif"},{title:"Progressez",description:"Suivez vos performances et améliorez-vous au fil du temps"}];function m(){let[a,d]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{setTimeout(()=>d(!0),200)},[]),(0,b.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black",children:(0,b.jsx)("div",{className:`transition-opacity duration-500 ${a?"opacity-100":"opacity-0"}`,style:{width:"70%",maxWidth:"600px"},children:(0,b.jsxs)("svg",{viewBox:"0 0 1000 900",xmlns:"http://www.w3.org/2000/svg",className:"apple-hello-svg",preserveAspectRatio:"xMidYMid meet",children:[(0,b.jsx)("defs",{children:(0,b.jsxs)("linearGradient",{id:"appleGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,b.jsx)("stop",{offset:"0%",stopColor:"#22c55e"}),(0,b.jsx)("stop",{offset:"15%",stopColor:"#eab308"}),(0,b.jsx)("stop",{offset:"30%",stopColor:"#f97316"}),(0,b.jsx)("stop",{offset:"45%",stopColor:"#ef4444"}),(0,b.jsx)("stop",{offset:"60%",stopColor:"#ec4899"}),(0,b.jsx)("stop",{offset:"75%",stopColor:"#a855f7"}),(0,b.jsx)("stop",{offset:"90%",stopColor:"#3b82f6"}),(0,b.jsx)("stop",{offset:"100%",stopColor:"#6366f1"})]})}),(0,b.jsx)("path",{d:"M 189.42 649.16 C 274.18 516.69 238.09 593.94 274.18 516.69 C 301.96 457.22 316.51 377.24 305.36 342.81 C 264.79 217.53 240.62 674.07 246.51 674.14 C 252.4 674.2 252.06 541.25 281.92 511.1 C 311.78 480.94 322.3 521.11 323.67 539.84 C 325.89 570.11 316.87 618.04 318.39 635.5 C 324.73 708.54 427.87 636.82 435.99 553.98 C 444.71 464.92 368.3 469.17 383.4 611.47 C 388.95 663.77 423.46 677.24 441.8 669.42 C 508.13 641.15 553.63 496.71 552.0 385.75 C 549.88 242.03 478.56 387.29 495.71 608.64 C 502.32 693.93 558.41 666.19 574.99 643.51 C 605.64 601.57 659.66 480.59 649.78 363.14 C 639.47 240.62 561.81 442.49 597.45 626.07 C 609.34 687.33 645.02 666.6 654.8 657.17 C 678.02 634.8 685.5 553.6 704.74 518.17 C 729.06 473.4 767.38 506.86 768.96 560.1 C 772.46 677.42 721.59 677.49 702.63 651.05 C 686.27 628.23 682.44 560.22 704.48 518.17 C 719.54 489.42 743.63 488.71 775.3 520.99 C 788.25 534.19 799.35 531.83 808.07 510.63",stroke:"url(#appleGradient)",strokeWidth:"28",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",className:"apple-hello-path"})]})})})}function n({onComplete:a}){let[d,e]=(0,c.useState)(!0),[f,g]=(0,c.useState)(0),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=setTimeout(()=>{e(!1),i(!0)},4e3);return()=>clearTimeout(a)},[]),(0,c.useEffect)(()=>{"true"===localStorage.getItem("latin-tutorial-seen")&&a()},[a]);let n=l[f];return d?(0,b.jsx)(m,{}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:`w-full max-w-md space-y-8 px-6 transition-all duration-500 ${h?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:[(0,b.jsxs)("div",{className:"space-y-6 text-center",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h2",{className:"text-4xl font-semibold text-foreground",children:n.title}),(0,b.jsx)("p",{className:"text-lg text-muted-foreground leading-relaxed",children:n.description})]}),(0,b.jsx)("div",{className:"flex justify-center gap-2 pt-4",children:l.map((a,c)=>(0,b.jsx)("div",{className:`h-1.5 rounded-full transition-all duration-500 ${c===f?"w-8 bg-foreground shadow-[0_2px_12px_rgba(0,0,0,0.3)] dark:shadow-[0_2px_12px_rgba(255,255,255,0.3)]":"w-1.5 bg-foreground/20"}`},c))})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("button",{onClick:()=>{f<l.length-1?(i(!1),setTimeout(()=>{g(f+1),i(!0)},300)):(localStorage.setItem("latin-tutorial-seen","true"),i(!1),setTimeout(a,300))},className:"pill-glow w-full",children:f<l.length-1?"Suivant":"Commencer"}),0===f&&(0,b.jsx)("button",{onClick:()=>{localStorage.setItem("latin-tutorial-seen","true"),i(!1),setTimeout(a,300)},className:"w-full rounded-2xl px-6 py-3 text-sm text-muted-foreground transition-all duration-300 hover:text-foreground",children:"Passer le tutoriel"})]})]})})})}function o({onShowTutorial:a,onShowLeaderboard:c,onReset:d}){return(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:d,className:"icon-button","aria-label":"Réinitialiser",title:"Réinitialiser",children:(0,b.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"icon-stroke",children:[(0,b.jsx)("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),(0,b.jsx)("path",{d:"M21 3v5h-5"}),(0,b.jsx)("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),(0,b.jsx)("path",{d:"M3 21v-5h5"})]})}),(0,b.jsx)("button",{onClick:a,className:"icon-button","aria-label":"Voir le tutoriel",title:"Tutoriel",children:(0,b.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",className:"icon-stroke",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,b.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,b.jsx)("circle",{cx:"12",cy:"17",r:"0.5",fill:"currentColor"})]})}),(0,b.jsx)("button",{onClick:c,className:"icon-button","aria-label":"Voir le classement",title:"Classement",children:(0,b.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"icon-stroke",children:[(0,b.jsx)("rect",{x:"3",y:"13",width:"4",height:"8"}),(0,b.jsx)("rect",{x:"10",y:"7",width:"4",height:"14"}),(0,b.jsx)("rect",{x:"17",y:"3",width:"4",height:"18"})]})})]})}function p({history:a,onClose:c}){let d=[...a].sort((a,b)=>{let c=a.correct/a.total,d=b.correct/b.total;return d!==c?d-c:a.timeInSeconds-b.timeInSeconds});return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"w-full max-w-md space-y-6 px-6",children:[(0,b.jsxs)("div",{className:"space-y-2 text-center",children:[(0,b.jsx)("h2",{className:"text-3xl font-semibold text-foreground",children:"Classement"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.length," sessions complétées"]})]}),(0,b.jsx)("div",{className:"max-h-[60vh] space-y-2 overflow-y-auto rounded-2xl",children:d.map((a,c)=>{var d;let e,f=Math.round(a.correct/a.total*100),g=new Date(a.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"});return(0,b.jsxs)("div",{className:"flex items-center gap-4 rounded-2xl border border-border/50 bg-card/50 px-4 py-3 shadow-sm",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-foreground/10 text-xs font-medium text-foreground",children:c+1}),(0,b.jsxs)("div",{className:"flex-1 space-y-0.5",children:[(0,b.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-foreground",children:[a.correct,"/",a.total]}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",f,"%)"]})]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:g})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)("div",{className:"text-sm font-medium text-foreground",children:(e=Math.floor((d=a.timeInSeconds)/60),`${e}m ${d%60}s`)})})]},a.date)})}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("button",{onClick:c,className:"pill-glow",children:"Fermer"})})]})})}function q({onClose:a,onConfirm:d}){let[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)("");return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"w-full max-w-sm space-y-6 px-6",children:[(0,b.jsxs)("div",{className:"space-y-2 text-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-foreground",children:"Réinitialiser"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Code parent requis"})]}),(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault(),"1234"===e?(d(),a()):(h("Code incorrect"),f(""))},className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("input",{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:e,onChange:a=>{f(a.target.value),h("")},placeholder:"Entrez le code (1234)",className:"pill-input w-full text-center text-lg tracking-widest",autoFocus:!0,maxLength:4}),g&&(0,b.jsx)("p",{className:"text-center text-sm text-red-600 dark:text-red-400",children:g})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("button",{type:"submit",className:"pill-glow w-full",children:"Confirmer"}),(0,b.jsx)("button",{type:"button",onClick:a,className:"w-full rounded-2xl px-6 py-3 text-sm text-muted-foreground transition-all duration-300 hover:text-foreground",children:"Annuler"})]})]})]})})}function r(){let[a,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),[r,s]=(0,c.useState)("name"),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(10),[x,y]=(0,c.useState)("per-step"),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(0),[D,E]=(0,c.useState)([]);return(0,c.useEffect)(()=>{let a=localStorage.getItem("latin-conjugation-history");a&&E(JSON.parse(a)),"true"===localStorage.getItem("latin-tutorial-seen")&&g(!1)},[]),(0,b.jsxs)("main",{className:"min-h-screen bg-background p-6 md:p-8",children:[a&&(0,b.jsx)(n,{onComplete:()=>g(!1)}),h&&(0,b.jsx)(p,{history:D,onClose:()=>i(!1)}),l&&(0,b.jsx)(q,{onClose:()=>m(!1),onConfirm:()=>{s("name"),u(""),w(10),y("per-step"),A([]),C(0)}}),(0,b.jsxs)("div",{className:"absolute right-4 top-4 flex items-center gap-3",children:[(0,b.jsx)(o,{onReset:()=>m(!0),onShowTutorial:()=>{localStorage.removeItem("latin-tutorial-seen"),g(!0)},onShowLeaderboard:()=>i(!0)}),(0,b.jsx)(k,{})]}),(0,b.jsxs)("div",{className:"mx-auto max-w-2xl pt-8 md:pt-12",children:[(0,b.jsxs)("div",{className:"mb-12 text-center",children:[(0,b.jsx)("h1",{className:"mb-3 text-4xl font-semibold tracking-tight text-foreground md:text-5xl",children:"Conjugaison Latine"}),(0,b.jsx)("p",{className:"text-base text-muted-foreground md:text-lg",children:"Pratiquez vos conjugaisons au présent"})]}),"name"===r&&(0,b.jsx)(d,{onSubmit:a=>{u(a),s("count")}}),"count"===r&&(0,b.jsx)(e,{studentName:t,onSubmit:(a,b)=>{w(a),y(b),s("exercise")}}),"exercise"===r&&(0,b.jsx)(f,{studentName:t,verbCount:v,verificationMode:x,onComplete:(a,b)=>{A(a),C(b);let c=[...D,{date:new Date().toISOString(),correct:a.filter(a=>a.isCorrect).length,total:a.length,timeInSeconds:b}];E(c),localStorage.setItem("latin-conjugation-history",JSON.stringify(c)),s("results")}}),"results"===r&&(0,b.jsx)(j,{studentName:t,results:z,timeInSeconds:B,history:D,onRestart:()=>{s("name"),u(""),w(10),y("per-step"),A([]),C(0)}})]})]})}a.s(["default",()=>r],60350)}];

//# sourceMappingURL=app_page_tsx_55b2e5ee._.js.map
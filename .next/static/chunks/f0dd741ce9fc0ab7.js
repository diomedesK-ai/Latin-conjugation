(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function r({onSubmit:e}){let[r,a]=(0,s.useState)(""),[n,l]=(0,s.useState)("");return(0,t.jsxs)("form",{onSubmit:t=>{(t.preventDefault(),r.trim().length<2)?l("Veuillez entrer votre nom (au moins 2 caractères)"):e(r.trim())},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground",children:"Quel est votre nom ?"}),(0,t.jsx)("input",{id:"name",type:"text",value:r,onChange:e=>{a(e.target.value),l("")},placeholder:"Entrez votre nom",className:"pill-input w-full text-base",autoFocus:!0}),n&&(0,t.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:n})]}),(0,t.jsx)("div",{className:"flex justify-center pt-4",children:(0,t.jsx)("button",{type:"submit",className:"pill-glow",children:"Continuer"})})]})}function a({studentName:e,onSubmit:r}){let[a,n]=(0,s.useState)("10"),[l,o]=(0,s.useState)("per-step"),[i,d]=(0,s.useState)("");return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=Number.parseInt(a,10);isNaN(t)||t<10?d("Minimum : 10 verbes"):t>50?d("Maximum : 50 verbes"):r(t,l)},className:"space-y-6",children:[(0,t.jsxs)("p",{className:"text-lg text-foreground",children:["Bienvenue, ",(0,t.jsx)("span",{className:"font-semibold",children:e})," !"]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card/50 p-6 shadow-sm",children:[(0,t.jsx)("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Exemple :"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,t.jsx)("span",{className:"font-medium text-foreground",children:"moneo, mones, monere"})," (avertir, conseiller)"]}),(0,t.jsxs)("p",{className:"mt-3 text-sm text-muted-foreground",children:["Réponse attendue :"," ",(0,t.jsx)("span",{className:"font-medium text-foreground",children:"moneo, mones, monet, monemus, monetis, monent"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{htmlFor:"count",className:"block text-sm font-medium text-foreground",children:"Combien de verbes souhaitez-vous pratiquer ?"}),(0,t.jsx)("input",{id:"count",type:"number",min:10,max:50,value:a,onChange:e=>{n(e.target.value),d("")},className:"pill-input w-full text-base",autoFocus:!0}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Minimum : 10, Maximum : 50"}),i&&(0,t.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground",children:"Mode de vérification"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>o("per-step"),className:`rounded-2xl border px-4 py-4 text-sm transition-all duration-200 ${"per-step"===l?"border-foreground/30 bg-foreground/5 font-medium text-foreground shadow-md":"border-border/50 bg-transparent text-muted-foreground hover:border-foreground/20 hover:bg-foreground/[0.02]"}`,children:(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-medium",children:"Par étape"}),(0,t.jsx)("div",{className:"mt-1 text-xs opacity-70 leading-relaxed",children:"Feedback immédiat après chaque verbe"})]})}),(0,t.jsx)("button",{type:"button",onClick:()=>o("at-end"),className:`rounded-2xl border px-4 py-4 text-sm transition-all duration-200 ${"at-end"===l?"border-foreground/30 bg-foreground/5 font-medium text-foreground shadow-md":"border-border/50 bg-transparent text-muted-foreground hover:border-foreground/20 hover:bg-foreground/[0.02]"}`,children:(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-medium",children:"À la fin"}),(0,t.jsx)("div",{className:"mt-1 text-xs opacity-70 leading-relaxed",children:"Résultats complets en une seule fois"})]})})]})]}),(0,t.jsx)("div",{className:"flex justify-center pt-2",children:(0,t.jsx)("button",{type:"submit",className:"pill-glow",children:"Commencer"})})]})}function n({studentName:r,verbCount:a,verificationMode:n,onComplete:l}){let[o,i]=(0,s.useState)([]),[d,c]=(0,s.useState)(0),[u,x]=(0,s.useState)({singular1:"",singular2:"",singular3:"",plural1:"",plural2:"",plural3:""}),[m,p]=(0,s.useState)([]),[h,f]=(0,s.useState)([]),[g,j]=(0,s.useState)(!1),[b,v]=(0,s.useState)(!0),[N,y]=(0,s.useState)(null),[C,w]=(0,s.useState)(!1),[S]=(0,s.useState)(Date.now());(0,s.useEffect)(()=>{!async function(){try{let e=await fetch("/api/generate-verbs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({count:a,difficulty:"mixed"})});if(e.ok){let t=await e.json();i(t.verbs)}else throw Error("Failed to generate verbs")}catch(s){console.error("Error generating verbs:",s);let{LATIN_VERBS:t}=await e.A(81685);i([...t].sort(()=>Math.random()-.5).slice(0,a))}finally{v(!1)}}()},[a]);let k=o[d],$=(0,s.useCallback)(async(e,t)=>{let s=`${t.singular1}, ${t.singular2}, ${t.singular3}, ${t.plural1}, ${t.plural2}, ${t.plural3}`,a=e.presentConjugation.join(", ");try{let t=await fetch("/api/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({verb:e.infinitive,principalParts:`${e.firstPerson}, ${e.secondPerson}, ${e.infinitive}`,userAnswer:s,correctAnswer:a,studentName:r})}),n=await t.json();return{verb:e.infinitive,principalParts:`${e.firstPerson}, ${e.secondPerson}, ${e.infinitive}`,userAnswer:s,correctAnswer:a,isCorrect:n.isCorrect,feedback:n.feedback}}catch{let r=t.singular1.toLowerCase().trim()===e.presentConjugation[0].toLowerCase()&&t.singular2.toLowerCase().trim()===e.presentConjugation[1].toLowerCase()&&t.singular3.toLowerCase().trim()===e.presentConjugation[2].toLowerCase()&&t.plural1.toLowerCase().trim()===e.presentConjugation[3].toLowerCase()&&t.plural2.toLowerCase().trim()===e.presentConjugation[4].toLowerCase()&&t.plural3.toLowerCase().trim()===e.presentConjugation[5].toLowerCase(),n=r?"Correct ! Bien joué.":`La bonne r\xe9ponse est : ${a}`;return{verb:e.infinitive,principalParts:`${e.firstPerson}, ${e.secondPerson}, ${e.infinitive}`,userAnswer:s,correctAnswer:a,isCorrect:r,feedback:n}}},[r]),M=async()=>{if(k)if("per-step"===n){j(!0),y(null);let e=await $(k,u);y(e.feedback),w(!0),f(t=>[...t,e]),j(!1)}else p(e=>[...e,{verb:k,answer:{...u}}]),L()},L=()=>{d+1>=o.length?"at-end"===n?P():l(h,Math.floor((Date.now()-S)/1e3)):(c(e=>e+1),x({singular1:"",singular2:"",singular3:"",plural1:"",plural2:"",plural3:""}),y(null),w(!1))},P=async()=>{j(!0);let e=[];for(let{verb:t,answer:s}of m){let r=await $(t,s);e.push(r)}let t=Math.floor((Date.now()-S)/1e3);j(!1),l(e,t)};return b?(0,t.jsxs)("div",{className:"space-y-4 text-center",children:[(0,t.jsx)("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-2 border-foreground/20 border-t-foreground"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Génération des verbes..."})]}):k?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{children:["Verbe ",d+1," sur ",o.length]}),(0,t.jsx)("span",{children:r})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card p-6 shadow-sm",children:[(0,t.jsx)("p",{className:"mb-1 text-sm text-muted-foreground",children:"Conjuguez au présent :"}),(0,t.jsxs)("p",{className:"text-xl font-medium text-foreground",children:[k.firstPerson,", ",k.secondPerson,", ",k.infinitive]}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-muted-foreground",children:["(",k.meaning,")"]}),k.isCompound&&(0,t.jsx)("p",{className:"mt-2 text-xs text-muted-foreground",children:"Composé de « esse » (être)"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),C||"per-step"!==n?L():M()},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Singulier"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"1ère personne (ego)"}),(0,t.jsx)("input",{value:u.singular1,onChange:e=>x(t=>({...t,singular1:e.target.value})),placeholder:"ex: moneo",disabled:C&&"per-step"===n,className:"pill-input w-full",autoFocus:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"2ème personne (tu)"}),(0,t.jsx)("input",{value:u.singular2,onChange:e=>x(t=>({...t,singular2:e.target.value})),placeholder:"ex: mones",disabled:C&&"per-step"===n,className:"pill-input w-full"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"3ème personne (is/ea/id)"}),(0,t.jsx)("input",{value:u.singular3,onChange:e=>x(t=>({...t,singular3:e.target.value})),placeholder:"ex: monet",disabled:C&&"per-step"===n,className:"pill-input w-full"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Pluriel"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"1ère personne (nos)"}),(0,t.jsx)("input",{value:u.plural1,onChange:e=>x(t=>({...t,plural1:e.target.value})),placeholder:"ex: monemus",disabled:C&&"per-step"===n,className:"pill-input w-full"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"2ème personne (vos)"}),(0,t.jsx)("input",{value:u.plural2,onChange:e=>x(t=>({...t,plural2:e.target.value})),placeholder:"ex: monetis",disabled:C&&"per-step"===n,className:"pill-input w-full"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"3ème personne (ei/eae/ea)"}),(0,t.jsx)("input",{value:u.plural3,onChange:e=>x(t=>({...t,plural3:e.target.value})),placeholder:"ex: monent",disabled:C&&"per-step"===n,className:"pill-input w-full"})]})]})]})]}),N&&"per-step"===n&&(0,t.jsx)("div",{className:`rounded-2xl p-4 ${h[h.length-1]?.isCorrect?"bg-green-50 text-green-900 dark:bg-green-950/30 dark:text-green-100":"bg-red-50 text-red-900 dark:bg-red-950/30 dark:text-red-100"}`,children:(0,t.jsx)("p",{className:"text-sm leading-relaxed",children:N})}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("button",{type:"submit",disabled:g,className:"pill-glow disabled:opacity-50",children:g?"at-end"===n?"Vérification de tous les verbes...":"Vérification...":C&&"per-step"===n?d+1>=o.length?"Voir les résultats":"Verbe suivant":"at-end"===n?d+1>=o.length?"Terminer et voir les résultats":"Suivant":"Vérifier"})})]})]}):(0,t.jsx)("p",{className:"text-muted-foreground",children:"Chargement des verbes..."})}function l(){let[e,r]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let e=["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8"];r(Array.from({length:80},(t,s)=>({id:s,x:100*Math.random(),color:e[Math.floor(Math.random()*e.length)],delay:.5*Math.random()})))},[]),(0,t.jsx)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-50",children:e.map(e=>(0,t.jsx)("div",{className:"absolute w-2.5 h-2.5 animate-confetti",style:{left:`${e.x}%`,backgroundColor:e.color,animationDelay:`${e.delay}s`,borderRadius:Math.random()>.5?"50%":"2px",transform:`rotate(${360*Math.random()}deg)`}},e.id))})}function o(e){let t=Math.floor(e/60);return`${t}m ${e%60}s`}function i({rank:e,session:s,isCurrent:r}){let a=Math.round(s.correct/s.total*100),n=new Date(s.date),l=n.toLocaleDateString("fr-FR",{day:"numeric",month:"short"}),i=n.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"});return(0,t.jsxs)("div",{className:`group flex items-center gap-4 rounded-2xl border px-4 py-3 transition-all ${r?"border-foreground/20 bg-foreground/5 shadow-sm":"border-border/50 bg-card/50 hover:border-foreground/10"}`,children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-foreground/10 text-xs font-medium text-foreground",children:e}),(0,t.jsxs)("div",{className:"flex-1 space-y-0.5",children:[(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-foreground",children:[s.correct,"/",s.total]}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",a,"%)"]})]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[l," à ",i]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-foreground",children:o(s.timeInSeconds)}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[Math.round(s.timeInSeconds/s.total),"s/verbe"]})]})]})}function d({studentName:e,results:r,timeInSeconds:a,history:n,onRestart:d}){let[c,u]=(0,s.useState)(!0),[x,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(!0),f=r.filter(e=>e.isCorrect).length,g=Math.round(f/r.length*100);(0,s.useEffect)(()=>{let e=setTimeout(()=>u(!1),6e3);return()=>clearTimeout(e)},[]),(0,s.useEffect)(()=>{!async function(){try{let t=await fetch("/api/congratulate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentName:e,correct:f,total:r.length,timeInSeconds:a,percentage:g})});if(t.ok){let e=await t.json();m(e.message)}else throw Error("Failed to generate message")}catch{m(g>=90?`F\xe9licitations ${e} ! Tu as une excellente ma\xeetrise des conjugaisons latines. Continue comme \xe7a !`:g>=60?`Bravo ${e} ! Tu fais de beaux progr\xe8s. Continue de pratiquer r\xe9guli\xe8rement.`:`Bon travail ${e} ! Chaque exercice te rapproche de la ma\xeetrise. La pers\xe9v\xe9rance est la cl\xe9 !`)}finally{h(!1)}}()},[e,f,r.length,a,g]);let j=[...n].sort((e,t)=>{let s=e.correct/e.total,r=t.correct/t.total;return r!==s?r-s:e.timeInSeconds-t.timeInSeconds}),b=j.findIndex(e=>e.date===n[n.length-1].date&&e.correct===f&&e.total===r.length);return(0,t.jsxs)("div",{className:"space-y-8",children:[c&&g>=60&&(0,t.jsx)(l,{}),(0,t.jsxs)("div",{className:"space-y-4 text-center",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{className:"text-5xl font-bold text-foreground",children:[f,(0,t.jsxs)("span",{className:"text-2xl text-muted-foreground",children:["/",r.length]})]}),(0,t.jsxs)("p",{className:"text-lg text-muted-foreground",children:[g,"% de réussite"]})]}),p?(0,t.jsx)("div",{className:"mx-auto h-4 w-4 animate-spin rounded-full border-2 border-foreground/20 border-t-foreground"}):(0,t.jsx)("div",{className:"mx-auto max-w-lg rounded-2xl border border-border/50 bg-card/50 p-6",children:(0,t.jsx)("p",{className:"text-foreground leading-relaxed",children:x})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card/50 p-4 text-center shadow-sm",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:o(a)}),(0,t.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:"Temps total"})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card/50 p-4 text-center shadow-sm",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-foreground",children:[Math.round(a/r.length),"s"]}),(0,t.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:"Moyenne/verbe"})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-border/50 bg-card/50 p-4 text-center shadow-sm",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-foreground",children:["#",b+1]}),(0,t.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:"Classement"})]})]}),n.length>1&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-foreground",children:"Tableau des performances"}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[n.length," sessions"]})]}),(0,t.jsx)("div",{className:"space-y-2",children:j.slice(0,5).map((e,s)=>(0,t.jsx)(i,{rank:s+1,session:e,isCurrent:e.date===n[n.length-1].date},e.date))})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Révision détaillée"}),r.map((e,s)=>(0,t.jsxs)("div",{className:`rounded-2xl border p-4 ${e.isCorrect?"border-green-200/50 bg-green-50/50 dark:border-green-900/30 dark:bg-green-950/20":"border-red-200/50 bg-red-50/50 dark:border-red-900/30 dark:bg-red-950/20"}`,children:[(0,t.jsxs)("div",{className:"mb-2 flex items-start justify-between",children:[(0,t.jsx)("p",{className:"font-medium text-foreground",children:e.principalParts}),(0,t.jsx)("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-medium ${e.isCorrect?"bg-green-100 text-green-900 dark:bg-green-900/50 dark:text-green-100":"bg-red-100 text-red-900 dark:bg-red-900/50 dark:text-red-100"}`,children:e.isCorrect?"Correct":"Incorrect"})]}),(0,t.jsxs)("p",{className:"mb-1 text-sm text-muted-foreground",children:["Votre réponse : ",e.userAnswer]}),!e.isCorrect&&(0,t.jsxs)("p",{className:"mb-2 text-sm text-muted-foreground",children:["Bonne réponse : ",e.correctAnswer]}),(0,t.jsx)("p",{className:"mt-3 text-sm text-foreground leading-relaxed",children:e.feedback})]},s))]}),(0,t.jsx)("div",{className:"flex justify-center pt-4",children:(0,t.jsx)("button",{onClick:d,className:"pill-glow",children:"Nouvelle session"})})]})}function c(){let[e,r]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=localStorage.getItem("theme");"dark"===e?(r(!0),document.documentElement.classList.add("dark")):"light"===e?(r(!1),document.documentElement.classList.remove("dark")):window.matchMedia("(prefers-color-scheme: dark)").matches&&(r(!0),document.documentElement.classList.add("dark"))},[]),(0,t.jsx)("button",{onClick:()=>{e?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),r(!1)):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),r(!0))},className:"theme-toggle","aria-label":e?"Passer au mode clair":"Passer au mode sombre",children:e?(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,t.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),(0,t.jsx)("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),(0,t.jsx)("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),(0,t.jsx)("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),(0,t.jsx)("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),(0,t.jsx)("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),(0,t.jsx)("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),(0,t.jsx)("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"black",strokeWidth:"2",strokeLinecap:"round",children:(0,t.jsx)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})}let u=[{title:"Bienvenue",description:"Apprenez la conjugaison latine de manière interactive et personnalisée"},{title:"Entrez votre nom",description:"Personnalisez votre expérience d'apprentissage"},{title:"Choisissez votre mode",description:"Feedback immédiat ou résultats complets à la fin - à vous de choisir"},{title:"Conjuguez",description:"Pratiquez les 6 formes du présent de l'indicatif"},{title:"Progressez",description:"Suivez vos performances et améliorez-vous au fil du temps"}];function x(){let[e,r]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{setTimeout(()=>r(!0),200)},[]),(0,t.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black",children:(0,t.jsx)("div",{className:`transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,style:{width:"70%",maxWidth:"600px"},children:(0,t.jsxs)("svg",{viewBox:"0 0 1000 900",xmlns:"http://www.w3.org/2000/svg",className:"apple-hello-svg",preserveAspectRatio:"xMidYMid meet",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"appleGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#22c55e"}),(0,t.jsx)("stop",{offset:"15%",stopColor:"#eab308"}),(0,t.jsx)("stop",{offset:"30%",stopColor:"#f97316"}),(0,t.jsx)("stop",{offset:"45%",stopColor:"#ef4444"}),(0,t.jsx)("stop",{offset:"60%",stopColor:"#ec4899"}),(0,t.jsx)("stop",{offset:"75%",stopColor:"#a855f7"}),(0,t.jsx)("stop",{offset:"90%",stopColor:"#3b82f6"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#6366f1"})]})}),(0,t.jsx)("path",{d:"M 189.42 649.16 C 274.18 516.69 238.09 593.94 274.18 516.69 C 301.96 457.22 316.51 377.24 305.36 342.81 C 264.79 217.53 240.62 674.07 246.51 674.14 C 252.4 674.2 252.06 541.25 281.92 511.1 C 311.78 480.94 322.3 521.11 323.67 539.84 C 325.89 570.11 316.87 618.04 318.39 635.5 C 324.73 708.54 427.87 636.82 435.99 553.98 C 444.71 464.92 368.3 469.17 383.4 611.47 C 388.95 663.77 423.46 677.24 441.8 669.42 C 508.13 641.15 553.63 496.71 552.0 385.75 C 549.88 242.03 478.56 387.29 495.71 608.64 C 502.32 693.93 558.41 666.19 574.99 643.51 C 605.64 601.57 659.66 480.59 649.78 363.14 C 639.47 240.62 561.81 442.49 597.45 626.07 C 609.34 687.33 645.02 666.6 654.8 657.17 C 678.02 634.8 685.5 553.6 704.74 518.17 C 729.06 473.4 767.38 506.86 768.96 560.1 C 772.46 677.42 721.59 677.49 702.63 651.05 C 686.27 628.23 682.44 560.22 704.48 518.17 C 719.54 489.42 743.63 488.71 775.3 520.99 C 788.25 534.19 799.35 531.83 808.07 510.63",stroke:"url(#appleGradient)",strokeWidth:"28",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",className:"apple-hello-path"})]})})})}function m({onComplete:e}){let[r,a]=(0,s.useState)(!0),[n,l]=(0,s.useState)(0),[o,i]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=setTimeout(()=>{a(!1),i(!0)},4e3);return()=>clearTimeout(e)},[]),(0,s.useEffect)(()=>{"true"===localStorage.getItem("latin-tutorial-seen")&&e()},[e]);let m=u[n];return r?(0,t.jsx)(x,{}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:`w-full max-w-md space-y-8 px-6 transition-all duration-500 ${o?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:[(0,t.jsxs)("div",{className:"space-y-6 text-center",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h2",{className:"text-4xl font-semibold text-foreground",children:m.title}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground leading-relaxed",children:m.description})]}),(0,t.jsx)("div",{className:"flex justify-center gap-2 pt-4",children:u.map((e,s)=>(0,t.jsx)("div",{className:`h-1.5 rounded-full transition-all duration-500 ${s===n?"w-8 bg-foreground shadow-[0_2px_12px_rgba(0,0,0,0.3)] dark:shadow-[0_2px_12px_rgba(255,255,255,0.3)]":"w-1.5 bg-foreground/20"}`},s))})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("button",{onClick:()=>{n<u.length-1?(i(!1),setTimeout(()=>{l(n+1),i(!0)},300)):(localStorage.setItem("latin-tutorial-seen","true"),i(!1),setTimeout(e,300))},className:"pill-glow w-full",children:n<u.length-1?"Suivant":"Commencer"}),0===n&&(0,t.jsx)("button",{onClick:()=>{localStorage.setItem("latin-tutorial-seen","true"),i(!1),setTimeout(e,300)},className:"w-full rounded-2xl px-6 py-3 text-sm text-muted-foreground transition-all duration-300 hover:text-foreground",children:"Passer le tutoriel"})]})]})})})}function p({onShowTutorial:e,onShowLeaderboard:s,onReset:r}){return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:r,className:"icon-button","aria-label":"Réinitialiser",title:"Réinitialiser",children:(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"icon-stroke",children:[(0,t.jsx)("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),(0,t.jsx)("path",{d:"M21 3v5h-5"}),(0,t.jsx)("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),(0,t.jsx)("path",{d:"M3 21v-5h5"})]})}),(0,t.jsx)("button",{onClick:e,className:"icon-button","aria-label":"Voir le tutoriel",title:"Tutoriel",children:(0,t.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",className:"icon-stroke",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,t.jsx)("circle",{cx:"12",cy:"17",r:"0.5",fill:"currentColor"})]})}),(0,t.jsx)("button",{onClick:s,className:"icon-button","aria-label":"Voir le classement",title:"Classement",children:(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"icon-stroke",children:[(0,t.jsx)("rect",{x:"3",y:"13",width:"4",height:"8"}),(0,t.jsx)("rect",{x:"10",y:"7",width:"4",height:"14"}),(0,t.jsx)("rect",{x:"17",y:"3",width:"4",height:"18"})]})})]})}function h({history:e,onClose:s}){let r=[...e].sort((e,t)=>{let s=e.correct/e.total,r=t.correct/t.total;return r!==s?r-s:e.timeInSeconds-t.timeInSeconds});return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"w-full max-w-md space-y-6 px-6",children:[(0,t.jsxs)("div",{className:"space-y-2 text-center",children:[(0,t.jsx)("h2",{className:"text-3xl font-semibold text-foreground",children:"Classement"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.length," sessions complétées"]})]}),(0,t.jsx)("div",{className:"max-h-[60vh] space-y-2 overflow-y-auto rounded-2xl",children:r.map((e,s)=>{var r;let a,n=Math.round(e.correct/e.total*100),l=new Date(e.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"});return(0,t.jsxs)("div",{className:"flex items-center gap-4 rounded-2xl border border-border/50 bg-card/50 px-4 py-3 shadow-sm",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-foreground/10 text-xs font-medium text-foreground",children:s+1}),(0,t.jsxs)("div",{className:"flex-1 space-y-0.5",children:[(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-foreground",children:[e.correct,"/",e.total]}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",n,"%)"]})]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:l})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)("div",{className:"text-sm font-medium text-foreground",children:(a=Math.floor((r=e.timeInSeconds)/60),`${a}m ${r%60}s`)})})]},e.date)})}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("button",{onClick:s,className:"pill-glow",children:"Fermer"})})]})})}function f({onClose:e,onConfirm:r}){let[a,n]=(0,s.useState)(""),[l,o]=(0,s.useState)("");return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"w-full max-w-sm space-y-6 px-6",children:[(0,t.jsxs)("div",{className:"space-y-2 text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-foreground",children:"Réinitialiser"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Code parent requis"})]}),(0,t.jsxs)("form",{onSubmit:t=>{t.preventDefault(),"1234"===a?(r(),e()):(o("Code incorrect"),n(""))},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("input",{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:a,onChange:e=>{n(e.target.value),o("")},placeholder:"Entrez le code (1234)",className:"pill-input w-full text-center text-lg tracking-widest",autoFocus:!0,maxLength:4}),l&&(0,t.jsx)("p",{className:"text-center text-sm text-red-600 dark:text-red-400",children:l})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("button",{type:"submit",className:"pill-glow w-full",children:"Confirmer"}),(0,t.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-2xl px-6 py-3 text-sm text-muted-foreground transition-all duration-300 hover:text-foreground",children:"Annuler"})]})]})]})})}function g(){let[e,l]=(0,s.useState)(!0),[o,i]=(0,s.useState)(!1),[u,x]=(0,s.useState)(!1),[g,j]=(0,s.useState)("name"),[b,v]=(0,s.useState)(""),[N,y]=(0,s.useState)(10),[C,w]=(0,s.useState)("per-step"),[S,k]=(0,s.useState)([]),[$,M]=(0,s.useState)(0),[L,P]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let e=localStorage.getItem("latin-conjugation-history");e&&P(JSON.parse(e)),"true"===localStorage.getItem("latin-tutorial-seen")&&l(!1)},[]),(0,t.jsxs)("main",{className:"min-h-screen bg-background p-6 md:p-8",children:[e&&(0,t.jsx)(m,{onComplete:()=>l(!1)}),o&&(0,t.jsx)(h,{history:L,onClose:()=>i(!1)}),u&&(0,t.jsx)(f,{onClose:()=>x(!1),onConfirm:()=>{j("name"),v(""),y(10),w("per-step"),k([]),M(0)}}),(0,t.jsxs)("div",{className:"absolute right-4 top-4 flex items-center gap-3",children:[(0,t.jsx)(p,{onReset:()=>x(!0),onShowTutorial:()=>{localStorage.removeItem("latin-tutorial-seen"),l(!0)},onShowLeaderboard:()=>i(!0)}),(0,t.jsx)(c,{})]}),(0,t.jsxs)("div",{className:"mx-auto max-w-2xl pt-8 md:pt-12",children:[(0,t.jsxs)("div",{className:"mb-12 text-center",children:[(0,t.jsx)("h1",{className:"mb-3 text-4xl font-semibold tracking-tight text-foreground md:text-5xl",children:"Conjugaison Latine"}),(0,t.jsx)("p",{className:"text-base text-muted-foreground md:text-lg",children:"Pratiquez vos conjugaisons au présent"})]}),"name"===g&&(0,t.jsx)(r,{onSubmit:e=>{v(e),j("count")}}),"count"===g&&(0,t.jsx)(a,{studentName:b,onSubmit:(e,t)=>{y(e),w(t),j("exercise")}}),"exercise"===g&&(0,t.jsx)(n,{studentName:b,verbCount:N,verificationMode:C,onComplete:(e,t)=>{k(e),M(t);let s=[...L,{date:new Date().toISOString(),correct:e.filter(e=>e.isCorrect).length,total:e.length,timeInSeconds:t}];P(s),localStorage.setItem("latin-conjugation-history",JSON.stringify(s)),j("results")}}),"results"===g&&(0,t.jsx)(d,{studentName:b,results:S,timeInSeconds:$,history:L,onRestart:()=>{j("name"),v(""),y(10),w("per-step"),k([]),M(0)}})]})]})}e.s(["default",()=>g],31713)},81685,e=>{e.v(t=>Promise.all(["static/chunks/f9afd6917c6fc733.js"].map(t=>e.l(t))).then(()=>t(96449)))}]);